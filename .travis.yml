language: csharp
mono: none
dotnet: 2.1
env:
  global:
    secure: bm/329yFJ2+uJMNAc8klbUI5WvnQxpFOiNBtRBEDxy73044POWTDRnhG7scfR3g8A0uFYfNbji2beoGA+DNGFbHuY52wnoWNpjmYuU2fdGDsr55gxwsgWLfsABdTF0OUlrkCChqF5kBZwmz0qg32KtP97l8hkm2OMTQL4RdhiM4ZLVAzu1b6MSkkMMieGqJrGg+XunmuYaGJ2GzBhylMT0/44ObLRoVy+bXIiBsl516QjiSn4E7bqzdufgDK3+DGxy0om+gQuRkRV6riL+ije85mChib5CQStbeBIHWpOU3z+oUc0Y/iQMRKxmVbnoWJCrbgBXK9ufkBUDAZq9WIOxSFdFiBgf6N4AbBHC7r3vVQinQNHYdHEWFIWrwTcVmGQ/Sq6LmvWZmw6wEJbrI9ZPZyjFxfJStJYmpwr2GAa3GyETbDwwiBLzz+8i0vyS4JDC29X2BFreAx+6nbfROl/5+F0U5PIL0etWzwW5hnpChF4F1QA4ueQKwn3t1Fq40dwKJCHU7+3JxugWcZ+euRJULOnglI1iU3vfUDdGNjDjjariJCAewP1rsywxAhUD4e7Q0Jt6ddEXY8NkyVqHqKqk/mD4KQkc4whdT7HAALK8d9fJrs283bRR3nYm7UMn01aTZ1quX4dTVEGY747Scp88QnQyolDt35uzAGGAB8F/0=
script:
- dotnet build -c Release
- dotnet test
before_deploy:
- dotnet pack -c Release -p:Version=$TRAVIS_TAG
deploy:
  skip_cleanup: true
  provider: script
  script: dotnet nuget push /home/travis/build/netifi-proteus/proteus-net/Proteus.Core/bin/Release/Proteus.Core.*.nupkg --api-key $NUGET_API_KEY --source https://api.nuget.org/v3/index.json
  on:
    tags: true
